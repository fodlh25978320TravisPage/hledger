# example stack config for building with GHC 8 prerelease
# generated by stack solver and tested 2016/4/28
#
# $ stack --stack-yaml stack-ghc8.yaml install

# https://ghc.haskell.org/trac/ghc/wiki/Migration/8.0

resolver: ghc-8.0.0.20160421
compiler-check: match-exact
setup-info:
  ghc:
    linux64:
      8.0.0.20160421:
        url: https://downloads.haskell.org/~ghc/8.0.1-rc4/ghc-8.0.0.20160421-x86_64-unknown-linux.tar.xz
        # content-length: 111404852
        # sha1: 30d39c6ca6994dcafe25595e053035ad23198b52
    macosx:
      8.0.0.20160421:
        url: https://downloads.haskell.org/~ghc/8.0.1-rc4/ghc-8.0.0.20160421-x86_64-apple-darwin.tar.xz
# ghc-options:
#     # All packages
#     "*": -Wall -auto-all
# rebuild-ghc-options: true
# apply-ghc-options: everything

packages:
- hledger-lib

- hledger

- hledger-ui
- location:
    git: git@github.com:simonmichael/wizards.git
    commit: 631dcc1ac9a75c534369f82204e6e5016bf52ca7

- hledger-web
- wai/wai-handler-launch

# - hledger-api
# - location:
#     git: git@github.com:ekmett/either.git
#     commit: 40261cf371fc0c0d511d60f7f452ba32c92cbf85
# # - location:
# #     git: git@github.com:haskell-servant/servant.git
# #     commit: 09b22452aa62ed1d562bb8fceec953d0b3bac16d  # jkarni/ghc8
# #     subdirs:
# #     - servant
# - servant/servant
# # - location:
# #     git: git@github.com:simonmichael/servant.git
# #     commit: master
# #     subdirs:
# #     - servant
# - servant-swagger
# # - location:
# #     git: git@github.com:simonmichael/servant-swagger.git
# #     commit: master

extra-deps:
- file-embed-0.0.10
# extra deps until ghc8 hits stackage:
# for hledger
- Decimal-0.4.2
- Glob-0.7.5
- HUnit-1.3.1.1
- abstract-deque-0.3
- abstract-par-0.3.3
- aeson-0.11.1.4
- ansi-terminal-0.6.2.3
- ansi-wl-pprint-0.6.7.3
- attoparsec-0.13.0.2
- base-compat-0.9.1
- blaze-builder-0.4.0.2
- blaze-html-0.8.1.1
- blaze-markup-0.7.0.3
- cassava-0.4.5.0
- cereal-0.5.1.0
- cmdargs-0.10.14
- control-monad-free-0.6.1
- criterion-1.1.1.0
- csv-0.1.2
- dlist-0.7.1.2
- doctest-0.11.0
- erf-2.0.0.0
- exceptions-0.8.2.1
- extensible-exceptions-0.1.1.4
- fail-4.9.0.0
- ghc-paths-0.1.0.9
- hashable-1.2.4.0
- haskell-lexer-1.0
- hastache-0.6.1
- hostname-1.0
- html-1.0.1.2
- ieee754-0.7.8
- math-functions-0.1.6.0
- monad-par-0.3.4.7
- monad-par-extras-0.3.3
- mtl-2.2.1
- mtl-compat-0.2.1.3
- mwc-random-0.13.4.0
- old-locale-1.0.0.7
- old-time-1.1.0.3
- optparse-applicative-0.12.1.0
- parallel-3.2.1.0
- parsec-3.1.9
- prelude-extras-0.4.0.3
- pretty-show-1.6.9
- primitive-0.6.1.0
- random-1.1
- regex-base-0.93.2
- regex-posix-0.95.2
- regex-tdfa-1.2.2
- safe-0.3.9
- scientific-0.3.4.6
- shakespeare-2.0.8.2
- split-0.2.3
- statistics-0.13.2.3
- stm-2.4.4.1
- syb-0.6
- tabular-0.2.2.7
- tagged-0.8.4
- temporary-1.2.0.4
- test-framework-0.8.1.1
- test-framework-hunit-0.3.0.2
- text-1.2.2.1
- timeit-1.0.0.0
- transformers-compat-0.5.1.4
- uglymemo-0.1.0.1
- unordered-containers-0.2.7.0
- utf8-string-1.0.1.1
- vector-0.11.0.0
- vector-algorithms-0.7.0.1
- vector-binary-instances-0.2.3.2
- vector-th-unbox-0.2.1.6
- xml-1.3.14
# for hledger-ui
- StateVar-1.1.0.4
- adjunctions-4.3
- base-orphans-0.5.4
- bifunctors-5.3
- brick-0.5
- comonad-5
- contravariant-1.4
- data-default-0.6.0
- data-default-class-0.0.1
- data-default-instances-base-0.1.0
- data-default-instances-containers-0.0.1
- data-default-instances-dlist-0.0.1
- data-default-instances-old-locale-0.0.1
- distributive-0.5.0.2
- free-4.12.4
- kan-extensions-5.0.1
- lens-4.14
- microlens-0.4.3.0
- profunctors-5.2
- reflection-2.1.2
- semigroupoids-5.0.1
- semigroups-0.18.1
- text-zipper-0.3.1
- void-0.7.1
- vty-5.4.0
# for hledger-web
- QuickCheck-2.8.2
- aeson-compat-0.3.2.0
- aeson-pretty-0.7.2
- appar-0.1.4
- asn1-encoding-0.9.3
- asn1-parse-0.9.4
- asn1-types-0.3.2
- async-2.1.0
- authenticate-1.3.3.1
- auto-update-0.1.3.1
- base16-bytestring-0.1.1.6
- base64-bytestring-1.0.0.1
- byteable-0.1.1
- byteorder-1.0.4
- bytestring-builder-0.10.6.0.0
- case-insensitive-1.2.0.6
- cipher-aes-0.2.11
- clientsession-0.9.1.1
- conduit-1.2.6.4
- conduit-extra-1.1.13.1
- connection-0.2.5
- cookie-0.4.2
- cprng-aes-0.6.1
- crypto-api-0.13.2
- crypto-cipher-types-0.0.9
- crypto-random-0.0.9
- cryptohash-0.11.9
- cryptohash-conduit-0.1.1
- cryptonite-0.15
- css-text-0.1.2.1
- easy-file-0.2.1
- email-validate-2.2.0
- enclosed-exceptions-1.0.1.1
- entropy-0.3.7
- fast-logger-2.4.6
- hex-0.1.2
- hjsmin-0.2.0.1
- hourglass-0.2.10
- hspec-2.2.3
- hspec-core-2.2.3
- hspec-discover-2.2.3
- hspec-expectations-0.7.2
- html-conduit-1.2.1
- http-api-data-0.2.2
- http-client-0.4.28
- http-client-tls-0.2.4
- http-conduit-2.1.10
- http-date-0.0.6.1
- http-types-0.9
- http2-1.6.0
- iproute-1.7.0
- json-0.9.1
- language-javascript-0.6.0.4
- lifted-base-0.2.3.6
- memory-0.12
- mime-mail-0.4.11
- mime-types-0.1.0.7
- mmorph-1.0.6
- monad-control-1.0.1.0
- monad-logger-0.3.18
- monad-loops-0.4.3
- nats-1.1
- network-2.6.2.1
- network-uri-2.6.1.0
- nonce-1.0.2
- path-pieces-0.2.1
- pem-0.2.2
- persistent-2.5
- persistent-template-2.5.1
- psqueues-0.2.2.1
- quickcheck-io-0.1.2
- resource-pool-0.2.3.2
- resourcet-1.1.7.3
- securemem-0.1.9
- setenv-0.1.1.3
- silently-1.2.5
- simple-sendfile-0.2.21
- skein-1.0.9.4
- socks-0.5.4
- stm-chans-3.0.0.4
- streaming-commons-0.1.15.4
- stringsearch-0.3.6.6
- tagsoup-0.13.9
- tagstream-conduit-0.5.5.3
- tf-random-0.5
- time-locale-compat-0.1.1.1
- tls-1.3.5
- transformers-base-0.4.4
- unix-compat-0.4.1.4
- unix-time-0.3.6
- vault-0.3.0.6
- wai-3.2.1
- wai-app-static-3.1.5
- wai-extra-3.0.15.1
- wai-logger-2.2.7
- warp-3.2.6
- word8-0.1.2
- x509-1.6.3
- x509-store-1.6.1
- x509-system-1.6.3
- x509-validation-1.6.3
- xml-conduit-1.3.4.2
- xml-types-0.3.6
- xss-sanitize-0.3.5.7
- yaml-0.8.17.1
- yesod-1.4.3
- yesod-auth-1.4.13.2
- yesod-core-1.4.20.2
- yesod-form-1.4.7.1
- yesod-persistent-1.4.0.5
- yesod-static-1.5.0.3
- yesod-test-1.5.1.1
- zlib-0.6.1.1
# # for hledger-api
# - MonadRandom-0.4.2.3
# - docopt-0.7.0.4
# - servant-server-0.7
# - swagger2-2.0.2
# - bytestring-conversion-0.3.1
# - http-media-0.6.3
# - string-conversions-0.4
# - system-filepath-0.4.13.4
# - th-lift-0.7.6
# - double-conversion-2.0.1.0

# for hledger-web
flags:
  time-locale-compat:
    old-locale: false

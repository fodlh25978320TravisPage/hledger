# experimental early stack build plan using GHC 9.6.1
# lib, cli, ui do build with cabal build --allow-newer -w ghc-9.6.1
# https://github.com/simonmichael/hledger/issues/2011

resolver: ghc-9.6.1

packages:
- hledger-lib
- hledger
- hledger-ui
# - hledger-web

extra-deps:
- Decimal-0.5.2
- Diff-0.4.1
- Glob-0.10.2
- HUnit-1.6.2.0
- OneTuple-0.4.1.1
- Only-0.1
- QuickCheck-2.14.2
- StateVar-1.2.2
- aeson-2.1.2.1
- aeson-pretty-0.8.9
- ansi-terminal-0.11.4
- ansi-wl-pprint-0.6.9
- assoc-1.1
- async-2.2.4
- attoparsec-0.14.4
- auto-update-0.1.6
- base-compat-0.13.0
- base-compat-batteries-0.13.0
- base-orphans-0.9.0
- base-unicode-symbols-0.2.4.2
- base64-0.4.2.4
- base64-bytestring-1.2.1.0
- bifunctors-5.6.1
- bimap-0.5.0
- bitvec-1.1.3.0
- blaze-builder-0.4.2.2
- blaze-html-0.9.1.2
- blaze-markup-0.8.2.8
- brick-1.6
- bsb-http-chunked-0.0.0.4
- cabal-doctest-1.0.9
- call-stack-0.4.0
- case-insensitive-1.2.1.0
- cassava-0.5.3.0
- cassava-megaparsec-2.0.4
- cereal-0.5.8.3
- cipher-aes-0.2.11
- clientsession-0.9.1.2
- clock-0.8.3
- cmdargs-0.10.21
- colour-2.3.6
- comonad-5.0.8
- conduit-1.3.4.3
- conduit-extra-1.3.6
- config-ini-0.2.5.0
- contravariant-1.5.5
- control-monad-free-0.6.2
- cookie-0.4.6
- cprng-aes-0.6.1
- crypto-api-0.13.3
- cryptonite-0.30
- cryptonite-conduit-0.2.2
- css-text-0.1.3.0
- csv-0.1.2
- data-clist-0.2
- data-default-0.7.1.1
- data-default-class-0.1.2.0
- data-default-instances-containers-0.0.1
- data-default-instances-dlist-0.0.1
- data-default-instances-old-locale-0.0.1
- data-fix-0.3.2
- deferred-folds-0.9.18.3
- distributive-0.6.2.1
- dlist-1.0
- doclayout-0.4
- email-validate-2.3.2.18
- emojis-0.1.2
- entropy-0.4.1.10
- extra-1.7.12
- fast-logger-3.2.1
- file-embed-0.0.15.0
- foldl-1.4.14
- fsnotify-0.4.1.0
- generically-0.1.1
- githash-0.1.6.3
- hashable-1.4.2.0
- hashtables-1.3.1
- hfsevents-0.1.6
- hjsmin-0.2.1
- hspec-2.10.10
- hspec-core-2.10.10
- hspec-discover-2.10.10
- hspec-expectations-0.8.2
- html-1.0.1.2
- html-conduit-1.3.2.2
- http-client-0.7.13.1
- http-client-tls-0.3.6.1
- http-conduit-2.3.8
- http-types-0.12.3
- http2-4.0.0
- indexed-traversable-0.1.2.1
- indexed-traversable-instances-0.1.1.2
- integer-logarithms-1.0.3.1
- iproute-1.7.12
- isomorphism-class-0.1.0.9
- language-javascript-0.7.1.0
- libyaml-0.1.2
- lucid-2.11.1
- math-functions-0.3.4.2
- megaparsec-9.3.0
- microlens-0.4.13.1
- microlens-ghc-0.4.14.1
- microlens-mtl-0.2.0.3
- microlens-platform-0.4.3.3
- microlens-th-0.4.3.11
- mime-types-0.1.1.0
- mmorph-1.2.0
- monad-control-1.0.3.1
- monad-logger-0.3.39
- mono-traversable-1.0.15.3
- network-3.1.2.8
- network-uri-2.6.4.2
- old-locale-1.0.0.7
- optparse-applicative-0.17.0.0
- pager-0.1.1.0
- parser-combinators-1.3.0
- path-pieces-0.2.1
- pretty-show-1.10
- pretty-simple-4.1.2.0
- prettyprinter-1.7.1
- prettyprinter-ansi-terminal-1.1.3
- primitive-0.8.0.0
- profunctors-5.6.2
- random-1.2.1.1
- recv-0.1.0
- regex-base-0.94.0.2
- regex-tdfa-1.3.2
- resourcet-1.3.0
- safe-0.3.19
- safe-exceptions-0.1.7.3
- scientific-0.3.7.0
- semialign-1.2.0.1
- semigroupoids-6
- shakespeare-2.0.30
- simple-sendfile-0.2.30
- skein-1.0.9.4
- split-0.2.3.5
- splitmix-0.1.0.4
- streaming-commons-0.2.2.5
- strict-0.4.0.1
- tabular-0.2.2.8
- tagged-0.8.7
- tasty-1.4.3
- tasty-hunit-0.10.0.3
- temporary-1.3
- text-ansi-0.2.1
- text-builder-0.6.7
- text-builder-dev-0.3.3.2
- text-short-0.1.5
- text-zipper-0.13
- th-abstraction-0.5.0.0
- th-compat-0.1.4
- th-lift-0.8.3
- these-1.1.1.1
- time-compat-1.9.6.1
- timeit-2.0
- transformers-base-0.4.6
- transformers-compat-0.7.2
- typed-process-0.2.11.0
- uglymemo-0.1.0.1
- unix-compat-0.7
- unliftio-core-0.2.1.0
- unordered-containers-0.2.19.1
- utf8-string-1.0.2
- utility-ht-0.0.16
- uuid-types-1.0.5
- vault-0.3.1.5
- vector-0.13.0.0
- vector-algorithms-0.9.0.1
- vector-stream-0.1.0.0
- vty-5.38
- wai-3.2.3
- wai-app-static-3.1.7.4
- wai-cors-0.2.7
- wai-extra-3.1.13.0
- wai-handler-launch-3.0.3.1
- wai-logger-2.4.0
- warp-3.3.24
- witherable-0.4.2
- wizards-1.0.3
- word-wrap-0.5
- xml-conduit-1.9.1.1
- xml-types-0.3.8
- xss-sanitize-0.3.7.1
- yaml-0.11.11.0
- yesod-1.6.2.1
- yesod-core-1.6.24.2
- yesod-form-1.7.4
- yesod-persistent-1.6.0.8
- yesod-static-1.6.1.0
- yesod-test-1.6.15
- zlib-0.6.3.0

allow-newer: true

nix:
  pure: false
  packages: [perl gmp ncurses zlib]

# ghc-options:
#   "$locals": -fplugin Debug.Breakpoint

# # for precise profiling, per https://www.tweag.io/posts/2020-01-30-haskell-profiling.html:
# # apply-ghc-options: everything
# # rebuild-ghc-options: true
# # stack build --profile --ghc-options="-fno-prof-auto"

# # tell GHC to write hie files, eg for weeder. Rumoured to be slow.
# # ghc-options:
# #   "$locals": -fwrite-ide-info

# # ghc-options:
# #   "$locals": -ddump-timings
# #  "$targets": -Werror
# #  "$everything": -O2
# #  some-package: -DSOME_CPP_FLAG
